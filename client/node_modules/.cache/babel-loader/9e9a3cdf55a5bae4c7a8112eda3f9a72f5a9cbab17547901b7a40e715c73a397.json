{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import Navbar from './navbar';\n// import axios from 'axios';\n// // import users from './user.js';\n// import './profile.css';\n\n// const Profile = () => {\n//     const [User, setUser] = useState(null);\n//     const [edit, setEdit] = useState(false);\n//     const [update, setUpdate] = useState({email: \"\",phone: \"\"});\n\n//     // useEffect(() => {\n//     //     const User = localStorage.getItem(\"User\");\n//     //     if (User) {\n//     //         const user = users.find(u => u.name === User);\n//     //         if (user) {\n//     //             setUser(user);\n//     //             setUpdate(user);\n//     //         }\n//     //     }\n//     // }, []);\n//     // const Change = (e) => {\n//     //     setUpdate({ ...update, [e.target.name]: e.target.value });\n//     // };\n//     // const Update = () => {\n//     //     setEdit(!edit);\n//     //     if (edit) {\n//     //         setUser(update);\n//     //         localStorage.setItem(\"User\", update.name);\n//     //         alert(\"Profile updated successfully!\");\n//     //     }\n//     // };\n//     useEffect(() => {\n//         const username = localStorage.getItem(\"User\");\n//         if (username) {\n//             axios.get(`http://localhost:3001/getuserbyname/${username}`)\n//                 .then(res => {\n//                     setUser(res.data);\n//                     setUpdate(res.data);\n//                 })\n//                 .catch(error => console.error(\"Error fetching user data:\", error));\n//         }\n//     }, []);\n\n//     const Change = (e) => {\n//         setUpdate({ ...update, [e.target.name]: e.target.value });\n//     };\n\n//     const Update = () => {\n//         if (edit) {\n//             axios.post(`http://localhost:3001/updateuser`, update)\n//                 .then(() => {\n//                     setUser(update);\n//                     localStorage.setItem(\"User\", update.name);\n//                     alert(\"Profile updated successfully!\");\n//                 })\n//                 .catch(error => console.error(\"Error updating user:\", error));\n//         }\n//         setEdit(!edit);\n//     };\n\n//     return (\n//         <div className=\"profile\" >\n//             <Navbar />\n//             <div className=\"profile-container\">\n//                 <h2>User Info</h2>\n//                 {User ? (\n//                     <form className=\"user-details\">\n//                         <label>Name:</label>\n//                         <input type=\"text\" name=\"name\" value={update.name} onChange={Change} readOnly />\n//                         <label>Email:</label>\n//                         <input type=\"text\" name=\"email\" value={update.email} onChange={Change} readOnly={!edit} />\n//                         <label>Phone:</label>\n//                         <input type=\"text\" name=\"phone\" value={update.phone} onChange={Change} readOnly={!edit} />\n//                         <button type=\"button\" className=\"btn\" onClick={Update}>\n//                             {edit ? \"Save\" : \"Update Details\"}\n//                         </button>\n//                     </form>\n//                 ) : (\n//                     <p className=\"error-msg\">No user logged in</p>\n//                 )}\n//             </div>\n//         </div>\n//     );\n// };  \n\n// export default Profile;","map":{"version":3,"names":[],"sources":["D:/Renamble/mernstackproject/client/src/cardmapjson/profile.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import Navbar from './navbar';\r\n// import axios from 'axios';\r\n// // import users from './user.js';\r\n// import './profile.css';\r\n\r\n// const Profile = () => {\r\n//     const [User, setUser] = useState(null);\r\n//     const [edit, setEdit] = useState(false);\r\n//     const [update, setUpdate] = useState({email: \"\",phone: \"\"});\r\n\r\n//     // useEffect(() => {\r\n//     //     const User = localStorage.getItem(\"User\");\r\n//     //     if (User) {\r\n//     //         const user = users.find(u => u.name === User);\r\n//     //         if (user) {\r\n//     //             setUser(user);\r\n//     //             setUpdate(user);\r\n//     //         }\r\n//     //     }\r\n//     // }, []);\r\n//     // const Change = (e) => {\r\n//     //     setUpdate({ ...update, [e.target.name]: e.target.value });\r\n//     // };\r\n//     // const Update = () => {\r\n//     //     setEdit(!edit);\r\n//     //     if (edit) {\r\n//     //         setUser(update);\r\n//     //         localStorage.setItem(\"User\", update.name);\r\n//     //         alert(\"Profile updated successfully!\");\r\n//     //     }\r\n//     // };\r\n//     useEffect(() => {\r\n//         const username = localStorage.getItem(\"User\");\r\n//         if (username) {\r\n//             axios.get(`http://localhost:3001/getuserbyname/${username}`)\r\n//                 .then(res => {\r\n//                     setUser(res.data);\r\n//                     setUpdate(res.data);\r\n//                 })\r\n//                 .catch(error => console.error(\"Error fetching user data:\", error));\r\n//         }\r\n//     }, []);\r\n\r\n//     const Change = (e) => {\r\n//         setUpdate({ ...update, [e.target.name]: e.target.value });\r\n//     };\r\n\r\n//     const Update = () => {\r\n//         if (edit) {\r\n//             axios.post(`http://localhost:3001/updateuser`, update)\r\n//                 .then(() => {\r\n//                     setUser(update);\r\n//                     localStorage.setItem(\"User\", update.name);\r\n//                     alert(\"Profile updated successfully!\");\r\n//                 })\r\n//                 .catch(error => console.error(\"Error updating user:\", error));\r\n//         }\r\n//         setEdit(!edit);\r\n//     };\r\n\r\n\r\n//     return (\r\n//         <div className=\"profile\" >\r\n//             <Navbar />\r\n//             <div className=\"profile-container\">\r\n//                 <h2>User Info</h2>\r\n//                 {User ? (\r\n//                     <form className=\"user-details\">\r\n//                         <label>Name:</label>\r\n//                         <input type=\"text\" name=\"name\" value={update.name} onChange={Change} readOnly />\r\n//                         <label>Email:</label>\r\n//                         <input type=\"text\" name=\"email\" value={update.email} onChange={Change} readOnly={!edit} />\r\n//                         <label>Phone:</label>\r\n//                         <input type=\"text\" name=\"phone\" value={update.phone} onChange={Change} readOnly={!edit} />\r\n//                         <button type=\"button\" className=\"btn\" onClick={Update}>\r\n//                             {edit ? \"Save\" : \"Update Details\"}\r\n//                         </button>\r\n//                     </form>\r\n//                 ) : (\r\n//                     <p className=\"error-msg\">No user logged in</p>\r\n//                 )}\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };  \r\n\r\n// export default Profile;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}